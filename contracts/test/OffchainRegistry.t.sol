// SPDX-License-Identifier: LGPL-3.0-or-later
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "../src/OffchainRegistry.sol";

contract OffchainRegistryTest is Test {
    OffchainRegistry public offchain_registry;

    function setUp() public {
	BatchSMTOpVerifier batch_op_verifier = new BatchSMTOpVerifier();
	SingleSMTOpVerifier single_op_verifier = new SingleSMTOpVerifier();
        offchain_registry = new OffchainRegistry(0, batch_op_verifier, single_op_verifier);
    }

    function test_insert_key() public {
		bytes memory op_proof = hex"1ced41c787f800a4d0f5203e8d363635952817abb96fbbf0006266f5051fbf3801b610569dee9533b2a97f5ace670de58dc08c0a15b83f07e7e40d1d3104a1ae2bd5f806c4346c0e279a341ffa89e8eb83df0347c5cfb62f222a08795c70642c2e4cae5fe4620edb0ef4527c8031b2812f6ccb34505392adcf70e22327963c2b2a406ad9f7aaaeba94f8300a752a0f737aab14f1b9e34b50d7d5722e3e8728e32fc1d2360a9de505f7cbefcc4434e61d7956f8d38899bb47d16d1c037805ae0a2ccbd8d8c485b92c64242c63100aa88c83770cc65d7b52cb9e1da5bb42059a750a50ea594a35140f42cba90a0f48362880e33099692e1f1cbea4594b1f7677a3117945d2929118f8704a07a4bc7fb85db9fceb5f62a81913c1b96e104fb0f5121fe48b2a565b1730f916e7b37eb8edc899fa0ea42da511b46e3a361eaaff16fc055509da8f366aa17a5cb467274ba9f09043d2c8f0928708b78241a38487bb2404576199f7f947cd8495fabe04fcff9da7faa59ebba583d55ef7f5d5fb1c12e906a7ee28c8fafbaed75ed1bda1aaeb35d3dba989e7231af4c43b43423773cd1b0d6c9f6f6ac92b65b1a4c58ca83362004a18c23cef870985041f53c41b2cb8e31b31892927e8c145ce4c0fde40b43564c2d28474f69ba67f67a293523a174a9220b04c6d9d95b49fa97d8b6ad53d82bf4fc90feea01ed241e9c6b8872ce0cc6c071729dbbe3d7b61cef650163b7a00c0bc9439a317f325e55057030d8b36f131076c110e5eddb67d71721aae4c4cdd1897e370bf898e5ffaaabb28604d1dd36f1ac1eba501f0c795bebcd3dd7ebbbaf466ae00ce97233758719be9980fd70f1a111f5a759ad564f4aad428b0d5067a7e8d597c7025f636781e42dbb2853a8ef008005eb07489c4d19f772a3b49cd311b47fa2f4aacf55db28b15e9821c13e65301a98ab8ab914a79b7df68a65f44d38a4d44a7b4baf5f44e457d922143fc80a40b4c79194e0034e398aeae022aa8f488307e28b59b4c0e4c335fda9ae3be5c360021dfe8a3c0a6e2c6e561aa670a4bc92c104415d6af35ce3c4a11714a741ad80c282bad9eb8f058efd0d396b18e4c77a1a350bb96c38890a627f08af3f2429f1d43754ba7d61a149447911f7f05b04094a8d0a055648338aaf7f46b211e49c303fa0db68e0f7eb88328243f616cde170620786bbd09678a19ffe95c64e2eeb6293ce4bfe638199639989c8a67d064ae45f41cdbc8a89bd707d48bec2dd3df6828b8efa78f345af0632574a50851cea008d9f8143365f2198480025b5e9d610617fdae6dc27651f5e316249e911e9cfb94999c28497f1a96b45a374c8591e8a705da8382f76c3d732a07a0e7c4e5829c6ca25f4c2018fe2fc661b3eac874c3fc1b4c28e430ca2a6c34e30fb7f50a1c861df855f7b7f9ab33ab233a3b4b82fcf60f7a50184b036de1f07549dc9c71fe88d46a639af6dac567e6b1935ddf98634d0d6fc1c715b9262fd67c24e8182d07632da2661f8842be8728914f35d2748b1814eb11c5703772927bac3efa80255d60b594a5f96ec2eb8e60c478eaeb3c968912e57f4c502f1490f3b3201a591d98fb90c270bf90fa04119834f1db4bed8e361de3883f877fa3c0482e45952d3f6bd62272403e4ab70f7f1d6a513e8d4d8c0f145c7cd342fb9634e95858966a1236a643ec9c3ad50390e0dffccc86250369311773a5e21fb2dfa5c495dddaf18810f0a9a892a108a5b41f34ba3471d9f6c4ea1a5ea703768719d882555c098ca97b88b1dad9415e51aba60383102e21e47c691dda2633b1517af30658ca1944c7ea5bf81c114b54ddf5beea2e45997acf60ff1d288600e16941cfff9e502f5fe8bec09965d8bad9f3f1dcaf4869ba561085772caf6c2f1908a828673c1c51d93c175716b4522463ffc25a4580e2044df8930b2b476b3ff9b552ff1f3b38056343665212a21dbbef42915c41470d398159e1970286c19c0016f1c378e13cc934d2732e2f55609e7e48cb9ec87dd7e15acc09b80a2a666ae7aa30b18ad7874387e2d867743c8bc9870876729396981d243e31da11ce0b39cf3d6f9f9ccdd1bddaf33da0b923b6f48fc821465eaf5858edb059fc23a3c671122214110d44ed8b10330118cdbaf290e682e688762e4cfdb7e7b975274da787a776d25cd349e0d23e43ca025dfee8f6a273bd3d04c7db37e4278b1c1f878dfa25ff595495ef3bf379f853b7d5274f95fde47d4d3fc35572a6673405105d49ea55bb997d00bc8db45d1ad2be34222c76cc14a0a9f26f5169eb8a2e8a2435e3a3af27865cf1dd0ba3a30bb4804b3ed0c6b56bc8e0d90f5034a34dd34203bb1ce010bdff3b68bdcd87628a0eec8cdb9767148f3f50e3a5542a1626cc1d16e72f859482d0266c6129ccf7c527cf946106a774012cfa20cd30da99a770390742d27f62143dc39d0f675861a2356179e2930f8cbd12f3897cc91584a38a401fcbf63fe8c8b371edbf246a1a990bdecb9b0c462996c75a3ccd1866514eeb6415528a0553c79793a0ba7f16a14484018fd70381fdbee09b7e3fcbb441112d2e211a5be6b83ea60e0d37c553d535737facc56873bcc2a041764f924609310d56020c22787b93dde579f984b807ded30b86be8cbb7a9b8f0e2f53aea711d406fe0ad8627aa0f5562c0f3d43fc287c3f369427021f65fb3c56985252f2c9882bf223f1e73e49a29819ecaa81d7174745ff09eee11b960239a6719f7f50fcfe2f9c0ca71d8f111e39de11c779fb8490f46a5782d7cf4c4fc665070ab61b4074334525c0a252b9cb7bcbef34b7d6735bfb32cd4ab6cb7c56c3b4e057e27973ea36ef1bc5971d2e3ba39e45dc05047a0c26446464e0b13413b5e32e295e05a59c54d92c4194e8eb06159557c92bd6f4254b1c5468c1652d9b23a0a69d1e48427db43a034be8db9273be1554a88c7844fc88ffe77d642acb44d7218cc37039d6c8bb8f304cbed7089de54bf75e30bb02296be7e6559949d14cef52e8bf26e22947ca20";
		vm.prank(0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266);
		offchain_registry.submit_op(0, 0x00000000000000000000000000000000000000000000000000000000000000ab, 0x2ce8fbfda2f8ec4f32b56e431d546e722384c5df8df911f394315eca56919dd8, op_proof);

    }
}
